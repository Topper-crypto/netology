# Домашнее задание к занятию "5.2. Применение принципов IaaC в работе с виртуальными машинами"
### Задача 1
> * Опишите своими словами основные преимущества применения на практике IaaC паттернов.
> * Какой из принципов IaaC является основополагающим?

### Ответ
#### Преимущества применения на практике IaaC паттернов:
* Скорость и уменьшение затрат: IaC позволяет быстрее конфигурировать инфраструктуру и направлен на обеспечение прозрачности, чтобы помочь другим командам со всего предприятия работать быстрее и эффективнее. Это освобождает дорогостоящие ресурсы для выполнения других важных задач.

* Масштабируемость и стандартизация: IaC предоставляет стабильные среды быстро и на должном уровне. Командам разработчиков не нужно прибегать к ручной настройке - 
они обеспечивают корректность, описывая с помощью кода требуемое состояние сред. Развертывания инфраструктуры с помощью IaC повторяемы и предотвращают проблемы во 
время выполнения, вызванных дрейфом конфигурации или отсутствием зависимостей. IaaC полностью стандартизирует сетап инфраструктуры, что снижает вероятность ошибок 
или отклонений.

* Безопасность и документация: Если за провизионирование всех вычислительных, сетевых и служб хранения отвечает код, они каждый раз будут развертываться одинаково. 
Это означает, что стандарты безопасности можно легко и последовательно применять в разных компаниях. IaC также служит некой формой документации о правильном способе 
создания инфраструктуры и страховкой на случай, если сотрудники покинут вашу компанию, обладая важной информацией. Поскольку код можно версионировать, IaC позволяет 
документировать, регистрировать и отслеживать каждое изменение конфигурации вашего сервера.

* Восстановление в аварийных ситуациях: Название говорит само за себя — это очень важно. IaaC — чрезвычайно эффективный способ отслеживания вашей инфраструктуры и 
повторного развертывания последнего работоспособного состояния после сбоя или катастрофы любого рода. Каждый, кто просыпался в 4 часа утра из-за того, что их сайт 
не работает, скажет вам, что важность быстрого восстановления после того, как ваша инфраструктура вышла из строя, нельзя недооценивать.

#### Основополагающий принцип IaaC:
Получение стабильного и предсказуемого результата каждый раз при запуске кода.

### Задача 2
> * Чем Ansible выгодно отличается от других систем управление конфигурациями?
> * Какой, на ваш взгляд, метод работы систем конфигурации более надёжный push или pull?

### Ответ

1. Ansible написан на Python, использует метод push. 

Для управления узлами, Ansible обрабатывает все коммуникации между мастер – узлами и узлами – агентами по стандартному SSH, или через модуль Paramiko, 
который является частью Python SSH второй версии.

Не нужно ставить агентское ПО на удаленные машины – только SSH подключение. Как следствие, упрощение обслуживания и траблшутинга.

В Ansible большой выбор модулей для любых целей.

2. В методе Push мы вручную или скриптом запускаем процесс применения изменений на сервере (локально или удаленно). 
Local Configuration Manager (LCM) применяет конфигурацию интерактивно.

В методе Pull сам агент LCM на сервере по расписанию сравнивает свою конфигурацию с конфигурацией, опубликованной в общем хранилище конфигураций. 
Если имеются изменения, то конфигурация копируется локально и применяется.

Изходя из этого метод Pull является более надежным.

### Задача 3
> Установить на личный компьютер:
> * VirtualBox
> * Vagrant
> * Ansible
> 
> Приложить вывод команд установленных версий каждой из программ, оформленный в markdown.

### Решение 

* VirtualBox:

```
user@user-Aspire-5745DG:~$ VBoxManage -v
6.1.32_Ubuntur149290
```
* Vagrant
```
user@user-Aspire-5745DG:~$ vagrant -v
Vagrant 2.2.19
```
* Ansible
```
user@user-Aspire-5745DG:~$ ansible --version 
ansible 2.10.8
  config file = None
  configured module search path = ['/home/user/.ansible/plugins/modules', '/usr/share/ansible/plugins/modules']
  ansible python module location = /usr/lib/python3/dist-packages/ansible
  executable location = /usr/bin/ansible
  python version = 3.10.4 (main, Apr  2 2022, 09:04:19) [GCC 11.2.0]
```
### Задача 4 (*)
> Воспроизвести практическую часть лекции самостоятельно.
> * Создать виртуальную машину.
> * Зайти внутрь ВМ, убедиться, что Docker установлен с помощью команды ```docker ps```

### Решение 

```TASK [Installing docker] *******************************************************
[WARNING]: Consider using the get_url or uri module rather than running 'curl'.
If you need to use command because get_url or uri is insufficient you can add
'warn: false' to this command task or set 'command_warnings=False' in
ansible.cfg to get rid of this message.
changed: [server1.netology]

TASK [Add the current user to docker group] ************************************
changed: [server1.netology]

PLAY RECAP *********************************************************************
server1.netology           : ok=7    changed=3    unreachable=0    failed=0    skipped=0    rescued=0    ignored=1   

user@user-Aspire-5745DG:~/netology/vagrant$ vagrant ssh
Welcome to Ubuntu 20.04.3 LTS (GNU/Linux 5.4.0-91-generic x86_64)

 * Documentation:  https://help.ubuntu.com
 * Management:     https://landscape.canonical.com
 * Support:        https://ubuntu.com/advantage

  System information as of Wed 04 May 2022 08:34:59 PM UTC

  System load:  0.66               Processes:                115
  Usage of /:   13.5% of 30.88GB   Users logged in:          0
  Memory usage: 30%                IPv4 address for docker0: 172.17.0.1
  Swap usage:   0%                 IPv4 address for eth0:    10.0.2.15


This system is built by the Bento project by Chef Software
More information can be found at https://github.com/chef/bento
Last login: Wed May  4 20:34:39 2022 from 10.0.2.2
vagrant@vagrant:~$ docker ps
CONTAINER ID   IMAGE     COMMAND   CREATED   STATUS    PORTS     NAMES
vagrant@vagrant:~$ ```
